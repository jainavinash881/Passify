import{r as n,P as x,j as s,g as T,c as U,R as W,a as H}from"./liquidGlass-CEzRsJvQ.js";function Q(){const[o,C]=n.useState([]),[g,b]=n.useState([]),[d,P]=n.useState(""),[u,p]=n.useState(null),[r,i]=n.useState({website:"",username:"",password:""}),[h,S]=n.useState({}),[w,j]=n.useState(!1),[a,c]=n.useState({website:"",username:"",password:""}),[N,E]=n.useState("medium"),[k,v]=n.useState(null);n.useEffect(()=>{m()},[]),n.useEffect(()=>{A()},[d,o]);const m=async()=>{const e=await x.getAll();C(e)},A=()=>{if(!d.trim()){b(o);return}const e=d.toLowerCase(),t=o.filter(y=>y.website.toLowerCase().includes(e)||y.username.toLowerCase().includes(e));b(t)},D=async e=>{confirm("Are you sure you want to delete this password?")&&(await x.delete(e),await m())},F=e=>{p(e.id),i({website:e.website,username:e.username,password:e.password})},M=async()=>{u&&(await x.update(u,r),p(null),i({website:"",username:"",password:""}),await m())},L=()=>{p(null),i({website:"",username:"",password:""})},R=e=>{S(t=>({...t,[e]:!t[e]}))},G=async(e,t)=>{await navigator.clipboard.writeText(e),v(t),setTimeout(()=>v(null),2e3)},I=async()=>{a.website&&a.username&&a.password&&(await x.save(a),c({website:"",username:"",password:""}),j(!1),await m())},f=()=>{const e=T(N);u?i({...r,password:e}):c({...a,password:e})},l=e=>U(e);return s.jsxs("div",{className:"manager-container",children:[s.jsxs("header",{className:"manager-header glass-container",children:[s.jsxs("div",{className:"header-content",children:[s.jsx("h1",{className:"manager-title",children:"ðŸ” Passify Password Manager"}),s.jsx("p",{className:"manager-subtitle",children:"Manage all your passwords in one secure place"})]}),s.jsx("button",{className:"glass-button primary add-password-btn",onClick:()=>j(!w),children:w?"âœ• Cancel":"+ Add Password"})]}),w&&s.jsxs("div",{className:"glass-container add-form-container fade-in",children:[s.jsx("h2",{className:"section-title",children:"Add New Password"}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Website"}),s.jsx("input",{type:"text",className:"glass-input",placeholder:"example.com",value:a.website,onChange:e=>c({...a,website:e.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Username/Email"}),s.jsx("input",{type:"text",className:"glass-input",placeholder:"user@example.com",value:a.username,onChange:e=>c({...a,username:e.target.value})})]}),s.jsxs("div",{className:"form-group full-width",children:[s.jsx("label",{children:"Password"}),s.jsxs("div",{className:"password-input-group",children:[s.jsx("input",{type:"text",className:"glass-input",placeholder:"Enter or generate password",value:a.password,onChange:e=>c({...a,password:e.target.value})}),s.jsxs("div",{className:"generator-controls",children:[s.jsxs("select",{className:"glass-input strength-select",value:N,onChange:e=>E(e.target.value),children:[s.jsx("option",{value:"easy",children:"Easy (8)"}),s.jsx("option",{value:"medium",children:"Medium (12)"}),s.jsx("option",{value:"hard",children:"Hard (16)"})]}),s.jsx("button",{className:"glass-button secondary",onClick:f,children:"âš¡ Generate"})]})]}),a.password&&s.jsxs("div",{className:"strength-indicator-inline",children:[s.jsx("div",{className:"strength-bar",style:{width:`${l(a.password).score}%`,background:l(a.password).color}}),s.jsx("span",{style:{color:l(a.password).color},children:l(a.password).label})]})]})]}),s.jsxs("div",{className:"form-actions",children:[s.jsx("button",{className:"glass-button primary",onClick:I,children:"ðŸ’¾ Save Password"}),s.jsx("button",{className:"glass-button",onClick:()=>j(!1),children:"Cancel"})]})]}),s.jsxs("div",{className:"search-container glass-container",children:[s.jsx("input",{type:"text",className:"glass-input search-input",placeholder:"ðŸ” Search passwords by website or username...",value:d,onChange:e=>P(e.target.value)}),s.jsxs("div",{className:"password-count",children:[g.length," of ",o.length," passwords"]})]}),s.jsx("div",{className:"passwords-grid",children:g.length===0?s.jsxs("div",{className:"glass-container empty-state",children:[s.jsx("div",{className:"empty-icon",children:"ðŸ”’"}),s.jsx("h3",{children:"No passwords found"}),s.jsx("p",{children:d?"Try a different search term":"Add your first password to get started"})]}):g.map(e=>s.jsx("div",{className:"glass-card password-card fade-in",children:u===e.id?s.jsxs("div",{className:"edit-form",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Website"}),s.jsx("input",{type:"text",className:"glass-input",value:r.website,onChange:t=>i({...r,website:t.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Username"}),s.jsx("input",{type:"text",className:"glass-input",value:r.username,onChange:t=>i({...r,username:t.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Password"}),s.jsxs("div",{className:"password-input-group",children:[s.jsx("input",{type:"text",className:"glass-input",value:r.password,onChange:t=>i({...r,password:t.target.value})}),s.jsx("button",{className:"glass-button secondary",onClick:f,children:"âš¡"})]})]}),s.jsxs("div",{className:"edit-actions",children:[s.jsx("button",{className:"glass-button primary",onClick:M,children:"âœ“ Save"}),s.jsx("button",{className:"glass-button",onClick:L,children:"âœ• Cancel"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"password-header",children:[s.jsxs("div",{className:"website-info",children:[s.jsx("div",{className:"website-icon",children:"ðŸŒ"}),s.jsxs("div",{children:[s.jsx("h3",{className:"website-name",children:e.website}),s.jsx("p",{className:"username",children:e.username})]})]}),s.jsxs("div",{className:"password-actions",children:[s.jsx("button",{className:"glass-button icon-btn",onClick:()=>F(e),title:"Edit",children:"âœï¸"}),s.jsx("button",{className:"glass-button icon-btn",onClick:()=>D(e.id),title:"Delete",children:"ðŸ—‘ï¸"})]})]}),s.jsxs("div",{className:"password-content",children:[s.jsxs("div",{className:"password-field",children:[s.jsx("label",{children:"Password"}),s.jsxs("div",{className:"password-display",children:[s.jsx("code",{className:"password-text",children:h[e.id]?e.password:"â€¢".repeat(12)}),s.jsxs("div",{className:"password-controls",children:[s.jsx("button",{className:"glass-button icon-btn",onClick:()=>R(e.id),title:h[e.id]?"Hide":"Show",children:h[e.id]?"ðŸ™ˆ":"ðŸ‘ï¸"}),s.jsx("button",{className:"glass-button icon-btn",onClick:()=>G(e.password,e.id),title:"Copy",children:k===e.id?"âœ“":"ðŸ“‹"})]})]})]}),h[e.id]&&s.jsxs("div",{className:"strength-info-card",children:[s.jsx("span",{children:"Strength: "}),s.jsx("span",{style:{color:l(e.password).color,fontWeight:"bold"},children:l(e.password).label}),s.jsx("div",{className:"strength-indicator-inline",children:s.jsx("div",{className:"strength-bar",style:{width:`${l(e.password).score}%`,background:l(e.password).color}})})]}),s.jsxs("div",{className:"password-meta",children:[s.jsxs("span",{children:["Created: ",new Date(e.createdAt).toLocaleDateString()]}),e.updatedAt!==e.createdAt&&s.jsxs("span",{children:["Updated: ",new Date(e.updatedAt).toLocaleDateString()]})]})]})]})},e.id))})]})}W.createRoot(document.getElementById("root")).render(s.jsx(H.StrictMode,{children:s.jsx(Q,{})}));
